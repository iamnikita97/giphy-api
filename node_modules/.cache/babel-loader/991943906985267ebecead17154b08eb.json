{"ast":null,"code":"import _objectSpread from \"/var/www/html/React_js_file/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/var/www/html/React_js_file/src/Components/Api.js\";\nimport React, { useState } from 'react';\nimport ListImages from './images';\nwindow['offset'] = 0;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      this.setState({\n        term: event.target.value\n      });\n    };\n\n    this.changeStateValue = data => {\n      var offset = _objectSpread({}, this.state.offset); //alert(offset);\n\n\n      this.setState(_objectSpread({}, this.state, {\n        //term: '',\n        img: data.data[0].images.fixed_height.url,\n        images: [...this.state.images, data.data],\n        //images : this.state.images.concat(data.data)\n        //pagination: {...this.state.pagination,...data.pagination}\n        total_count: data.pagination.total_count,\n        offset: data.pagination.offset,\n        count: data.pagination.count\n      }));\n      window['offset'] = data.pagination.offset;\n      console.log(this.state);\n      console.log(data);\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const api_key = 'sLZYU7lvnhUT11k7JVn3YdiN8DmGaYli';\n      const url = `http://api.giphy.com/v1/gifs/search?q=${this.state.term}&api_key=${api_key}&offset=` + window['offset'];\n      fetch(url).then(response => response.json()).then(data => this.changeStateValue(data)).catch(e => console.log('error', e));\n    };\n\n    this.handleLoadNextRecords = e => {\n      // this.setState((state)=>({\n      //     ... this.state,\n      //     offset: this.state.offset + 25\n      // }));\n      window['offset'] = window['offset'] + 25; //     this.setState({ ... this.state,\n      //         offset: this.state.offset + 25 }, function () {\n      //         //setTimeout(this.handleSubmit(e),2000)\n      //    });\n\n      this.handleSubmit(e);\n      console.log(this.state); //this.handleSubmit(e);\n      //console.log(data);\n    };\n\n    this.state = {\n      term: '',\n      img: '',\n      images: [],\n      pagination: {\n        total_count: 0,\n        count: 0,\n        offset: 0\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: this.state.term,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Search\"))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.total_count > 0 && this.state.total_count !== this.state.images.length && React.createElement(\"button\", {\n      onClick: this.handleLoadNextRecords,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Load Next Data\")))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(ListImages, {\n      allData: this.state.images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/var/www/html/React_js_file/src/Components/Api.js"],"names":["React","useState","ListImages","window","App","Component","constructor","props","onChange","event","setState","term","target","value","changeStateValue","data","offset","state","img","images","fixed_height","url","total_count","pagination","count","console","log","handleSubmit","preventDefault","api_key","fetch","then","response","json","catch","e","handleLoadNextRecords","render","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,UAAP,MAAuB,UAAvB;AAEAC,MAAM,CAAC,QAAD,CAAN,GAAmB,CAAnB;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,QAVmB,GAUPC,KAAD,IAAW;AAClB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,IAAI,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAArB,OAAd;AACH,KAZkB;;AAAA,SAcnBC,gBAdmB,GAcCC,IAAD,IAAU;AAEzB,UAAIC,MAAM,qBAAO,KAAKC,KAAL,CAAWD,MAAlB,CAAV,CAFyB,CAIzB;;;AACA,WAAKN,QAAL,mBACO,KAAKO,KADZ;AAEI;AACAC,QAAAA,GAAG,EAAEH,IAAI,CAACA,IAAL,CAAU,CAAV,EAAaI,MAAb,CAAoBC,YAApB,CAAiCC,GAH1C;AAIIF,QAAAA,MAAM,EAAG,CAAC,GAAG,KAAKF,KAAL,CAAWE,MAAf,EAAsBJ,IAAI,CAACA,IAA3B,CAJb;AAKI;AACA;AACAO,QAAAA,WAAW,EAAGP,IAAI,CAACQ,UAAL,CAAgBD,WAPlC;AAQIN,QAAAA,MAAM,EAAGD,IAAI,CAACQ,UAAL,CAAgBP,MAR7B;AASIQ,QAAAA,KAAK,EAAGT,IAAI,CAACQ,UAAL,CAAgBC;AAT5B;AAYArB,MAAAA,MAAM,CAAC,QAAD,CAAN,GAAmBY,IAAI,CAACQ,UAAL,CAAgBP,MAAnC;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAjB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ;AACH,KAlCkB;;AAAA,SAmCnBY,YAnCmB,GAmCHlB,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACmB,cAAN;AACA,YAAMC,OAAO,GAAG,kCAAhB;AACA,YAAMR,GAAG,GAAI,yCAAwC,KAAKJ,KAAL,CAAWN,IAAK,YAAWkB,OAAQ,UAA5E,GAAsF1B,MAAM,CAAC,QAAD,CAAxG;AACA2B,MAAAA,KAAK,CAACT,GAAD,CAAL,CACKU,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUhB,IAAI,IACN,KAAKD,gBAAL,CAAsBC,IAAtB,CAHR,EAKKmB,KALL,CAKWC,CAAC,IAAIV,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBS,CAArB,CALhB;AAMH,KA7CkB;;AAAA,SA8CnBC,qBA9CmB,GA8CMD,CAAD,IAAO;AAE3B;AACA;AACA;AACA;AAEAhC,MAAAA,MAAM,CAAC,QAAD,CAAN,GAAmBA,MAAM,CAAC,QAAD,CAAN,GAAmB,EAAtC,CAP2B,CAS/B;AACA;AACA;AACA;;AACG,WAAKwB,YAAL,CAAkBQ,CAAlB;AAGCV,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAjB,EAhB2B,CAiB3B;AACA;AACH,KAjEkB;;AAEf,SAAKA,KAAL,GAAa;AACTN,MAAAA,IAAI,EAAE,EADG;AAETO,MAAAA,GAAG,EAAE,EAFI;AAGTC,MAAAA,MAAM,EAAE,EAHC;AAITI,MAAAA,UAAU,EAAE;AAAED,QAAAA,WAAW,EAAE,CAAf;AAAkBE,QAAAA,KAAK,EAAE,CAAzB;AAA4BR,QAAAA,MAAM,EAAE;AAApC;AAJH,KAAb;AAMH;;AA0DDqB,EAAAA,MAAM,GAAG;AACL,WACI,0CACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAE,KAAKV,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWN,IAAzB;AAA+B,MAAA,QAAQ,EAAE,KAAKH,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CADJ,CADJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKS,KAAL,CAAWK,WAAX,GAAyB,CAAzB,IACA,KAAKL,KAAL,CAAWK,WAAX,KAA2B,KAAKL,KAAL,CAAWE,MAAX,CAAkBmB,MAD7C,IAEG;AAAQ,MAAA,OAAO,EAAE,KAAKF,qBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHR,CAPJ,CADJ,CADJ,CAFJ,CAFJ,EAwBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBJ,EAwBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBV,EAyBI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWE,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzBJ,CADJ,CADJ;AAgCH;;AApG6B;;AAuGlC,eAAef,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport ListImages from './images'\n\nwindow['offset'] = 0;\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            term: '',\n            img: '',\n            images: [],\n            pagination: { total_count: 0, count: 0, offset: 0 }\n        };\n    }\n\n    onChange = (event) => {\n        this.setState({ term: event.target.value });\n    }\n\n    changeStateValue = (data) => {\n\n        var offset = {...this.state.offset}\n\n        //alert(offset);\n        this.setState({\n            ...this.state,\n            //term: '',\n            img: data.data[0].images.fixed_height.url,\n            images : [...this.state.images,data.data],\n            //images : this.state.images.concat(data.data)\n            //pagination: {...this.state.pagination,...data.pagination}\n            total_count : data.pagination.total_count,\n            offset : data.pagination.offset,\n            count : data.pagination.count,\n\n        });\n        window['offset'] = data.pagination.offset;\n        console.log(this.state);\n        console.log(data);\n    }\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const api_key = 'sLZYU7lvnhUT11k7JVn3YdiN8DmGaYli';\n        const url = `http://api.giphy.com/v1/gifs/search?q=${this.state.term}&api_key=${api_key}&offset=`+window['offset'];\n        fetch(url)\n            .then(response => response.json())\n            .then(data =>\n                this.changeStateValue(data)\n            )\n            .catch(e => console.log('error', e));\n    }\n    handleLoadNextRecords = (e) => {\n\n        // this.setState((state)=>({\n        //     ... this.state,\n        //     offset: this.state.offset + 25\n        // }));\n\n        window['offset'] = window['offset'] + 25;\n\n    //     this.setState({ ... this.state,\n    //         offset: this.state.offset + 25 }, function () {\n    //         //setTimeout(this.handleSubmit(e),2000)\n    //    });\n       this.handleSubmit(e);\n\n\n        console.log(this.state);\n        //this.handleSubmit(e);\n        //console.log(data);\n    }\n    render() {\n        return (\n            <>\n                <div className=\"App\">\n\n                    <center>\n                        <br />\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td>\n                                        <form onSubmit={this.handleSubmit}>\n                                            <input value={this.state.term} onChange={this.onChange} />\n                                            <button>Search</button>\n                                        </form>\n                                    </td>\n                                    <td>\n                                        {this.state.total_count > 0 &&\n                                         this.state.total_count !== this.state.images.length &&\n                                            <button onClick={this.handleLoadNextRecords}>Load Next Data</button>\n\n                                        }\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </center>\n                    <br /><br />\n                    <ListImages allData={this.state.images} />\n\n                </div>\n            </>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}